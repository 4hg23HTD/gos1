
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–æ—Ö–æ–¥</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div id="screen1">
    <h1>üíº –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–æ—Ö–æ–¥</h1>
    <button onclick="nextScreen(2)">–£–∑–Ω–∞—Ç—å –º–æ–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã</button>
  </div>

  <div id="screen2" style="display:none">
    <button onclick="selectStatus('–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π')">–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π</button>
    <button onclick="selectStatus('–°—Ç—É–¥–µ–Ω—Ç')">–°—Ç—É–¥–µ–Ω—Ç</button>
  </div>

  <div id="screen3" style="display:none">
    <input id="income" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–æ—Ö–æ–¥" />
    <button onclick="nextScreen(4)">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
  </div>

  <div id="screen4" style="display:none">
    <p id="confirmation"></p>
    <button onclick="nextScreen(5)">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
  </div>

  <div id="screen5" style="display:none">
    <h1>–°–ø–∞—Å–∏–±–æ!</h1>
  </div>

  <script>
    let userStatus = '';
    let incomeValue = '';

    function nextScreen(n) {
      for (let i = 1; i <= 5; i++) {
        document.getElementById("screen" + i).style.display = "none";
      }
      document.getElementById("screen" + n).style.display = "block";

      if (n === 4) {
        incomeValue = document.getElementById("income").value.replace(/\D/g, '');
        document.getElementById("confirmation").textContent =
          `–í—ã –≤—ã–±—Ä–∞–ª–∏: ${userStatus}, –¥–æ—Ö–æ–¥: ${incomeValue} ‚ÇΩ/–º–µ—Å`;
      }

      if (n === 5) {
        if (window.Telegram && window.Telegram.WebApp) {
          Telegram.WebApp.sendData(JSON.stringify({
            status: userStatus,
            income: incomeValue
          }));
        }
      }
    }

    function selectStatus(status) {
      userStatus = status;
      nextScreen(3);
    }
  </script>
</body>
</html>
